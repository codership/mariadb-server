SET GLOBAL wsrep_provider_options = 'gmcast.isolate = 1';
SET SESSION wsrep_on=OFF;
CREATE TABLE t1 (f1 INTEGER);
SET SESSION wsrep_on=ON;
DROP TABLE t1;
CREATE TABLE t2 (f1 INTEGER);
SET GLOBAL wsrep_provider_options = 'gmcast.isolate = 0';
SELECT COUNT(*) = 0 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 't1';
COUNT(*) = 0
1
SELECT COUNT(*) = 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 't2';
COUNT(*) = 1
1
SET SESSION wsrep_on=OFF;
Killing server ...
Starting mysqld
SELECT COUNT(*) = 0 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 't1';
COUNT(*) = 0
1
SELECT COUNT(*) = 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 't2';
COUNT(*) = 1
1
CALL mtr.add_suppression("Slave SQL: Error 'Unknown table");
SELECT COUNT(*) = 0 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 't1';
COUNT(*) = 0
1
SELECT COUNT(*) = 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 't2';
COUNT(*) = 1
1
CALL mtr.add_suppression("Slave SQL: Error 'Unknown table");
SELECT COUNT(*) = 0 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 't1';
COUNT(*) = 0
1
SELECT COUNT(*) = 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 't2';
COUNT(*) = 1
1
CALL mtr.add_suppression("inconsistent with group");
SELECT COUNT(*) = 0 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 't1';
COUNT(*) = 0
1
SELECT COUNT(*) = 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 't2';
COUNT(*) = 1
1
DROP TABLE t2;

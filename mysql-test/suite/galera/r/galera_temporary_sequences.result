connection node_2;
connection node_1;
connection node_2;
set autocommit=0;
SET SESSION wsrep_OSU_method='RSU';
create table t (i int primary key, j int);
create temporary sequence seq2 NOCACHE engine=innodb;
commit;
SET SESSION wsrep_OSU_method='RSU';
create sequence seq1 NOCACHE engine=innodb;
SET SESSION wsrep_OSU_method='TOI';
DROP TABLE t;
DROP SEQUENCE seq2;
DROP SEQUENCE seq1;
connection node_1;
create table t (i int primary key, j int);
set autocommit=0;
insert into t values (3,0);
create temporary sequence seq1 NOCACHE engine=innodb;
commit;
insert into t values (4,0);
create sequence seq2 NOCACHE engine=innodb;
commit;
connection node_2;
select * from t;
i	j
3	0
4	0
show create table seq1;
ERROR 42S02: Table 'test.seq1' doesn't exist
show create table seq2;
Table	Create Table
seq2	CREATE TABLE `seq2` (
  `next_not_cached_value` bigint(21) NOT NULL,
  `minimum_value` bigint(21) NOT NULL,
  `maximum_value` bigint(21) NOT NULL,
  `start_value` bigint(21) NOT NULL COMMENT 'start value when sequences is created or value if RESTART is used',
  `increment` bigint(21) NOT NULL COMMENT 'increment value',
  `cache_size` bigint(21) unsigned NOT NULL,
  `cycle_option` tinyint(1) unsigned NOT NULL COMMENT '0 if no cycles are allowed, 1 if the sequence should begin a new cycle when maximum_value is passed',
  `cycle_count` bigint(21) NOT NULL COMMENT 'How many cycles have been done'
) ENGINE=InnoDB SEQUENCE=1
connection node_1;
DROP TABLE t;
DROP SEQUENCE seq1;
DROP SEQUENCE seq2;

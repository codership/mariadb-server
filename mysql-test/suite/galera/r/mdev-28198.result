connection node_2;
connection node_1;
SET GLOBAL log_output='TABLE';
SET SESSION sql_mode='no_auto_value_on_zero';
SET SESSION enforce_storage_engine=InnoDB;
ALTER TABLE mysql.general_log ENGINE=MyISAM;
ERROR HY000: You cannot 'ALTER' a log table if logging is enabled
SET GLOBAL general_log=1;
SELECT 1;
1
1
SET GLOBAL log_output=DEFAULT;
SET SESSION sql_mode=DEFAULT;
call mtr.add_suppression("Unsafe statement written to the binary log using statement format since BINLOG_FORMAT.*");
SET GLOBAL wsrep_forced_binlog_format=STATEMENT;
CREATE TABLE t (a INT UNIQUE) REPLACE SELECT 1 AS a,2 AS b UNION SELECT 1 AS a,3 AS c;
Warnings:
Note	1592	Unsafe statement written to the binary log using statement format since BINLOG_FORMAT = STATEMENT. CREATE... REPLACE SELECT is unsafe because the order in which rows are retrieved by the SELECT determines which (if any) rows are replaced. This order cannot be predicted and may differ on master and the slave
SELECT * from t;
a	b
1	3
DROP TABLE t;
SET GLOBAL wsrep_forced_binlog_format=DEFAULT;
call mtr.add_suppression("BINLOG_BASE64_EVENT: Could not read field.*");
call mtr.add_suppression("BINLOG_BASE64_EVENT: Could not execute Write_rows_v1 event on table.*");
CREATE TABLE t1 (a INT NOT NULL AUTO_INCREMENT PRIMARY KEY, b INT, KEY(b)) engine=innodb;
BINLOG 'AMqaOw8BAAAAdAAAAHgAAAAAAAQANS42LjM0LTc5LjEtZGVidWctbG9nAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAEzgNAAgAEgAEBAQEEgAAXAAEGggAAAAICAgCAAAACgoKGRkAAYVx w2w=';
BINLOG 'wlZOTxMBAAAAKgAAADwCAAAAACkAAAAAAAEABHRlc3QAAnQxAAIDAwAC wlZOTxcBAAAAJgAAAGICAAAAACkAAAAAAAEAAv/8AgAAAAgAAAA=';
ERROR HY000: Got error 171 "The event was corrupt, leading to illegal data being read" from storage engine InnoDB
SELECT * FROM t1;
a	b
DROP TABLE t1;
